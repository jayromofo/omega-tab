# Cross-compilation configuration for OmegaTab
# See: https://github.com/cross-rs/cross

[target.aarch64-unknown-linux-gnu]
# Use a custom image with GTK dependencies for tray icon support
pre-build = [
    "dpkg --add-architecture arm64",
    "apt-get update",
    "apt-get install -y libgtk-3-dev:arm64 libayatana-appindicator3-dev:arm64 pkg-config"
]

[build.env]
passthrough = [
    "RUST_BACKTRACE",
    "RUST_LOG"
]
